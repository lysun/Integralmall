<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.doublev2v.integralmall.designerCraft.DesignerMapper">
	
	<select id="findCrafts" resultType="com.doublev2v.integralmall.designerCraft.DesignerCraft">
  		select
  		d.index as id,
  		a.saveFileName as picUrl
  		from jefen.designercraft d
  		left join jefen.craftphotosattachment c on d.id=c.craftid
  		left join jefen.attachments as a on c.ATTACHMENTID=a.id
  		where d.index in
  		<foreach collection="list" item="item" open="(" close=")" separator=",">
  			#{item}
  		</foreach>
  		group by d.index
  	</select>
  	
</mapper>